{"version":3,"sources":["classes/site.js","utils.js","classes/block.js","classes/sidebar.js","classes/app.js","model.js","index.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["Site","selector","$el","document","querySelector","model","innerHTML","forEach","block","insertAdjacentHTML","toHTML","row","content","styles","col","css","toString","key","Object","keys","map","join","type","Block","value","options","Error","TitleBlock","tag","ImageBlock","is","imageStyles","alt","ColumnsBlock","html","TextBlock","Sidebar","updateCallback","update","init","template","addEventListener","add","bind","event","preventDefault","target","name","newBlock","App","site","render","push","text","background","color","padding","image","display","width","height","bundleURL","getBundleURLCached","getBundleURL","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","i","length","module"],"mappings":"AOAA,ACAA,IDAI6D,ACAAW,MAAM,GDAG,ACAAC,GDAG,IAAI,ACAA,CAAC,cAAc,CAAC;ADCpC,ACCA,SDDSX,ACCAY,UAAU,CAACC,IAAI,EAAE,CDDC,GAAG;ADD9B,ECEE,ACCA,IDDI,ACCAC,CDDCf,MCCM,GDDG,ACCAc,EDDE,ECCE,CAACE,SAAS,EAAE;AFFhC,EEGED,EDDEf,KCCK,CAACiB,GDDG,GAAGf,ACCA,GAAG,SDDS,EAAE,CCCC;AFF/B,ECEE,ECCEY,IAAI,CAACI,MAAM,EAAE;AFDjB,ECEE,ACAA,CAAC,CFFC9B,KCEKY,GDFF,CAACxD,KCEU,ODFL,CAAC;ACGd,AHPA,AFAA,ACAA,AEAA,EGOEuE,OAAO,CAACI,IAAI,GAAGL,IAAI,CAACK,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGC,IAAI,CAACC,GAAG,EAAE;ADE3D,AHRA,AFD4C,ACC5C,AEAA,EGOER,IAAI,CAACS,EDCErB,QCDQ,CAACsB,GDCG,GAAG,MCDM,CAACT,OAAO,EAAED,IAAI,CAACW,WAAW,CAAC;AACzD,AJRoC,AFDQ,ACCI,AEAqC,EESnF;ACCF,AJVoC,AFDQ,ACCI,AEEhD,AJHO,EMWL,ECAEC,AHRElC,EEQA,EFRI,CJHM1C,GAAG,CAACC,COWN,GAAG,GPXU,COWN,CPXqB,mEIKzC;AGOD,AJXoC,AFDQ,ACCI,AEMzC,EJPmC,EMYtC,AFLSP,EJPgBQ,GOYpB2E,AHLS,CEKR,EFLW,AJPc,CIQjC,CEIY9D,GFJRC,CGIY,CDAC,ECAE,aHJL,CAAC,kCAAkC,EAAE,YJRf,EAAE;AGCJ,AFDQ,ACCI,EIY9C,ACAA,AHJEC,AJRF,CMYC,CAAC,CFJG,CGID2D,CHJG,IEIEvB,AFJE,GEIC,EAAE,ACAA,EAAE,4BPZkBnD,MAAM,gBAAKD,OAAO;AGAlB,AFDQ,ACCI,AFChD,EIQIC,EEIA,ACAA,ARdSb,IOcLiE,APdS,AKUP,EAAE,KEIG,GAAG,CAAC,EAAE,GAAGD,GAAG,CAACE,KAAK,EAAEC,KAAK,CAAC,+DAA+D,CAAC;AHbrE,AFDQ,ACCI,AFGzC,EOWL,ARdA,EOcE,AFJEb,IEIEW,CNXQnD,GAAG,CAACF,CIOJ,CEID,CPdDX,AKUI,CEID,GNXU,EAAE,EDHP,EAAE,mCKUuC;ADV3B,AFDQ,ACCI,EKgB9CsF,APZA,EGFWtC,ADAAb,AHFW,AKWlBmB,EEIA,CHbU,ECSL,EFTS,AESP,CGKD,CDDCa,ECCEqB,EHLI,MEII,CAACxB,CCCC,CAAC,KDDK,CAAC,CAAC,CAAC,CAAC,GCCG,GPZNrD,OAAO;ACLK,ADM5C,EGFE,ADAA,EIaE,ACCA,ARhBA,AKWE4C,IGKEkC,ARhBA,CAACxF,EKWI,CLXD,CQgBC,AHLE,EDTDG,AJFCF,CQgBCA,GLdFF,CCAK,CCSI,CDTF,CJFE,CQgBC,ARhBAG,CQgBCuF,ELdH,EAAEtD,QHFa,CAACpC,GQgBG,CAAC,CLdJ,EAAE,CHFM,CAAC,mBQgBmB,CAAC;ANlBvB,ADQrC,EMUL,APfA,EQgBE,AJfiB,ADAmB,AEUlC,KGKG,APXOc,GAAG,COWN6E,CAAC,CPXmB,CIMf,CGKD,CAAC,AHLE,EGKAA,CAAC,GAAGF,KAAK,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;ANnBC,EKoB1C,APjBC,AKYC,AJP6B,EGH7B,ADAA,EKeE,APZc/E,EGHZ,ADAA,CIeC,AHfAR,ADAAH,CKeCsE,EDAE,AJfA,AFGc,EGHZ,CDACrE,CKeC,CAACiE,AJfA/D,KAAK,CDAC,CAACD,GKeG,CAACsF,KAAK,CAACE,CAAC,CAAC,CAACZ,ALfA,CAAC/E,GKeG,CAAC,ILfI,CKeCuE,ALfA,MKeM,CAACT,YAAY,EAAE,EAAE,aPZzC,CAAC,CAAC;AMa/B,ALrB4C,AGgB1C,CAAC,CAAC,AJPF,EGFE,ADDA,AHHD,AKeD,EJTI,EOYEW,AJdA,ADDA,AEYF7C,CDXGU,ADDAD,ICCI,AHEAzB,EGFE,ADDA,GKeG,ALfAwB,CKeCqD,APZA,KOYK,APZA,COYCE,AHHT,CGGU,AHHTnC,CGGU,CAAC,ILfI,AFGA,EAAE,MISZ,CJTmB5C,CISjB,KJTuB;AMc/C,ALvB4C,EEQ1C,ACWEA,AJTF,EEFE,AHLD,EQmBG,APZEG,EEFA,AEWE,CEIDoD,AJfA7B,CEWG,CLdV,EGGW,CFEG,CEFD,EFEI,EMaA,CAAC8B,GAAG,EAAE,CNbjBrD,CDLCX,KAAK,EAAE,ACKA,CAAIY,GAAG;ACVqB,EKwB1C,AHhBC,ADCD,EKcE,ANrBEM,AGkBAiC,AJViB,EDLP,GOmBP,ALtBE,CKsBD,CFJG,CEID,CFJG,EEIAa,GAAG,EAAEC,CFJG,AJVQrD,GAAG,GMcP,CAAC,WNdWJ,MAAM,CAACI,GAAG,CAAC,0DMc0D,EAAE,IAAI,CAAC,GAAG,GAAG;AACzH,ELtBE,ACMC,AFC+C,CAAE,COehDsE,AJjBD,ACaG7B,ELfF,IAAI,CAACxD,AKeI,EAAE,CGID,ARnBF,CAACI,EQmBI,ANtBHkB,EGkBO,EGIA,CNtBF,EAAEC,AFGC,GAAG,EAAE,EEHC,EAAE;AKwB9B8C,ECDE,APfA,COeC,CJlBA,AFL2B,ACM3B,AEaG,CGID,CRnBDlE,COoBG,ACDA,CDCC0D,ACDA,CPfC7C,EGDP,AJHO,CAACX,GCIK,CAACY,GDJC,COoBG,APpBF,ACIE,CIWG,AJXFN,EMgBEiD,AFLE,IDZhB,AHCkB,CAAC,CAAC1C,CDJVZ,ECIa,CAACQ,EDJT,EAAK,IOoBY,ANhBA,CAAC,CAACK,IAAI,CAAC,GAAG,CAAC;AMiBpDkD,ACDA,APfA,EIWI,CAAC,CHnBD,ACKD,ECCM,CGkBF,CAACH,ALxBA,AFIF,CEJG5C,ECOP,EHHQ,CEJI,AFIHtB,GEJMsB,AFIH,COoBI,APpBHf,GOoBM2D,CLxBC,KCOb,IIiBsB,KPpBE,CAAC,WAAW,EAAE5D,KAAK,CAACE,MAAM,EAAE,CAAC;AQqB9DoF,APfO,EIUH/D,EHnBA,EMwBE,AJlBF,ADCA,AHHA,CQoBGwC,ARpBF,CEJG,AFIF,CEJG9C,ADSOjB,CGHN0C,ADCF,CAAChD,EEYM,CGKD,AJlBA,ADCF,AFES,CEFRO,AEYI,AJVKa,CCTN,CMwBCkE,AJlBA,EFNE/D,ADSO,EGHLzB,AHGO,KOeF,ANxBA,KEMD,CAAC,CDCK,CAAC,KCDC,CAAC,MDCU,EAAE,IAAI,CAACwC,QAAQ,CAAC;EDN1D,ADSA,EDLA,AKeImB,EDZFT,ADAA,GEYO,CDZH,ADAA,CCACC,ADAAjD,AEYI,GFZD,CAACuC,ECAE,CAAC,ACYI,IDZA,CAACpC,KAAK,CAAC,EDAE,CAAC,MFGZiB,EEHoB,EAAE,AFGlB,IEHsB,CAACoB,GAAG,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC,QFIhDrB,IAAI;AAWhB,ECtBG,AFIA,EGID,AEYIsC,EDXF,IAAMvB,ACWE,EAAE,YDXU,GAAG,SAAjBA,cAAc,CAAIW,QAAQ,EAAK;EDDtC,AHJA,AKiBC,CAAC,CHrBF,IEUG,KAAI,CAAC3C,KAAK,CAAC+C,IAAI,CAACJ,QAAQ,CAAC;AJN5B,EKkBChB,EHtBD,ACQA,CEcI,EAAE,CDXHkB,GFTJ,CESQ,CAACC,MAAM,CAAC,KAAI,CAAC9C,GFTZ,EESiB,CAAC;AJP1B,AKmBD,CAAC,CAAC,EFfD,AEiBD,EDbE,AFTA,CESC,CCaC4B,CFfJ,GDPQ,IAAIP,KAAK,CAAC,ECOH,GEeC,CACd,CACE,8BHxBmD,CAAC,+BGwBU,EAC9D,yDAAyD,EACzD,8EAA8E,CAC/E,EACD;EACEb,EH5BJ,EEUE,ADHA,EEqBQ,EDlBJuB,ACkBM,GFrBH,CAAC,IAAA5B,QCGG,CAAC,GDHC,EAAC,GCGM,EAAE6B,CDHF,CAAC,EAAE,IAAA7B,MCGa,CAAC,KDHT,EAAC,OAAO,CAAC,CAAC,CAACa,IAAI,CAAC,EAAE,CAAC;EDPhD,EEWD,ADHA,AEqBMiC,UAAU,EAAE,8CAA8C;EDlB/D,AFXA,ACQA,EEsBKE,OAAO,EAAE,MAAM;AH9BpB,EEWA,EDHA,AEuBKD,KAAK,EAAE,MAAM;ADpBlB,AFXA,IAGU5B,ACKV,AEwBK,OFtBN,GDPqB,GG6BF,EAAE,KFtBjBiB,KAAK,EAAE;ACCV,EFRoB,AG8BjB,IFtBFA,KAAK,CAACC,cAAc,EAAE;AEuBtB,CAAC,CH/BkB,AGgCpB,EACD,EFvBE,EEuBEV,EFvBIb,IAAI,GAAGsB,KAAK,CAACE,CEuBR,CAACO,IFvBa,AEuBT,CFvBUN,CEuBR,GFvBY;EDThC,AGiCElC,IFvBA,EEuBM,EFvBAW,AEuBE,KFvBG,GAAGoB,IDVJpB,CCUS,CAACsB,GDVL,EAAErB,CCUS,CAACD,KDVH,ACUQ,CAACA,CDVP,ICUY;IDVZ,AGkCxB8B,EFvBF,IAAMzC,IEuBM,EFvBA,AEuBE,GFvBC+B,KAAK,CAACE,MAAM,CAACjC,MAAM,CAACW,KAAK,gBEuBkB;IHlChC,AGmCxBgC,EFtBF,IAAMR,CEsBG,EAAE,KFtBG,CEsBG,EFtBA1B,IAAI,IDZfE,CCYoB,IDZf,EAAEC,ACYmB,GAAG,IDZf,ACYmBU,gBAAS,CAACX,KAAK,EAAE;EDX1D,EGkCI,IFvBwDX,MAAM,EAANA,CEuB3C,EAAE;EHlClB,AGmCC,IFxBiE,CAAC,CAAC,GAAG,IAAIc,iBAAU,CAACH,KAAK,EAAE;AEyB9F,CAAC,CAAC,CACH,CHrCE,ICW+FX,MAAM,EAANA;AE0BhG,IHrCC,ECWsG,CAAC,CAAC,GDTzG,kBAAS;MACP,ACUA,IAAI,CAACyB,MAAM,CAACU,QDVmB,ACUX,CAAC,GDVc,CAACvB,OAAO;MCY3CmB,EDZ2C,GCYtC,CAACE,MAAM,CAACtB,KAAK,CAACA,KAAK,GAAG,EAAE,ODZrBI,GAAG;MCaXgB,EDbQhB,GAAG,ACaN,CAACkB,MAAM,CAACjC,MAAM,CAACW,KAAK,GAAG,EAAE,SDbhB,IAAI;ICcpB,IDdsBX,MAAM,iBAANA,MAAM;ECc3B,IDbC,OAAO,IAAAF,UAAG,EAAC,IAAAG,UAAG,aAAKc,GAAG,cAAI,IAAI,CAACJ,KAAK,eAAKI,GAAG,OAAI,EAAE,IAAAb,UAAG,EAACF,MAAM,CAAC,CAAC;ECa/D,EDZD;ACYC,EDZA;ACYA,EDZA;AAAA,EAR6BU,KAAK;AAAA;AAAA,IAWxBM,UAAU;EAAA;EAAA;EACrB,oBAAYL,KAAK,EAAEC,OAAO,EAAE;IAAA;IAAA,0BACpBD,KAAK,EAAEC,OAAO;EACtB;EAAC;IAAA;IAAA,OACD,kBAAS;MACP,qBAA8C,IAAI,CAACA,OAAO;QAArCK,EAAE,kBAAfC,WAAW;QAAA,oCAAMC,GAAG;QAAHA,GAAG,mCAAG,EAAE;QAAEnB,MAAM,kBAANA,MAAM;MACzC,OAAO,IAAAF,UAAG,uBAAc,IAAI,CAACa,KAAK,sBAAUQ,GAAG,wBAAY,IAAAjB,UAAG,EAACe,EAAE,CAAC,YAAQ,IAAAf,UAAG,EAACF,MAAM,CAAC,CAAC;IACxF;EAAC;EAAA;AAAA,EAP6BU,KAAK;AAAA;AAAA,IAUxBU,YAAY;EAAA;EAAA;EACvB,sBAAYT,KAAK,EAAEC,OAAO,EAAE;IAAA;IAAA,0BACpBD,KAAK,EAAEC,OAAO;EACtB;EAAC;IAAA;IAAA,OACD,kBAAS;MACP,IAAMS,IAAI,GAAG,IAAI,CAACV,KAAK,CAACJ,GAAG,CAACN,UAAG,CAAC,CAACO,IAAI,CAAC,EAAE,CAAC;MACzC,OAAO,IAAAV,UAAG,EAACuB,IAAI,EAAE,IAAAnB,UAAG,EAAC,IAAI,CAACU,OAAO,CAACZ,MAAM,CAAC,CAAC;IAC5C;EAAC;EAAA;AAAA,EAP+BU,KAAK;AAAA;AAAA,IAU1BY,SAAS;EAAA;EAAA;EACpB,mBAAYX,KAAK,EAAEC,OAAO,EAAE;IAAA;IAAA,0BACpBD,KAAK,EAAEC,OAAO;EACtB;EAAC;IAAA;IAAA,OACD,kBAAS;MACP,OAAO,IAAAd,UAAG,EAAC,IAAAG,UAAG,eAAO,IAAI,CAACU,KAAK,UAAO,EAAE,IAAAT,UAAG,EAAC,IAAI,CAACU,OAAO,CAACZ,MAAM,CAAC,CAAC;IACnE;EAAC;EAAA;AAAA,EAN4BU,KAAK;AAAA","file":"src.e31bb0bc.js","sourceRoot":"..\\src","sourcesContent":["export class Site {\r\n  constructor(selector) {\r\n    this.$el = document.querySelector(selector);\r\n  }\r\n\r\n  render(model) {\r\n    this.$el.innerHTML = \"\";\r\n    model.forEach((block) => {\r\n      this.$el.insertAdjacentHTML(\"beforeend\", block.toHTML());\r\n    });\r\n  }\r\n}\r\n","export function row(content, styles = \"\") {\r\n  return `<div class=\"row\" style=\"${styles}\">${content}</div>`;\r\n}\r\n\r\nexport function col(content) {\r\n  return `<div class=\"col-sm\">${content}</div>`;\r\n}\r\n\r\nexport function css(styles = {}) {\r\n  if (typeof styles === \"string\") return styles;\r\n  const toString = (key) => `${key}: ${styles[key]}`;\r\n  return Object.keys(styles).map(toString).join(\";\");\r\n}\r\n\r\nexport function block(type) {\r\n  return `\r\n    <form name=\"${type}\">\r\n      <h5>${type}</h5>\r\n      <div class=\"form-group\">\r\n        <input class=\"form-control form-control-sm\" name=\"value\" placeholder=\"value\">\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <input class=\"form-control form-control-sm\" name=\"styles\" placeholder=\"styles\">\r\n      </div>\r\n      <button type=\"submit\" class=\"btn btn-primary btn-sm\">Добавить</button>\r\n    </form>\r\n    <hr />\r\n `;\r\n}\r\n","import { col, css, row } from \"../utils.js\";\r\n\r\nclass Block {\r\n  constructor(value, options) {\r\n    this.value = value;\r\n    this.options = options;\r\n  }\r\n\r\n  toHTML() {\r\n    throw new Error(\"Метод toHTML должен быть реализован\");\r\n  }\r\n}\r\n\r\nexport class TitleBlock extends Block {\r\n  constructor(value, options) {\r\n    super(value, options);\r\n  }\r\n\r\n  toHTML() {\r\n    const { tag = \"h1\", styles } = this.options;\r\n    return row(col(`<${tag}>${this.value}</${tag}>`), css(styles));\r\n  }\r\n}\r\n\r\nexport class ImageBlock extends Block {\r\n  constructor(value, options) {\r\n    super(value, options);\r\n  }\r\n  toHTML() {\r\n    const { imageStyles: is, alt = \"\", styles } = this.options;\r\n    return row(`<img src=\"${this.value}\" alt=\"${alt}\" style=\"${css(is)}\" />`, css(styles));\r\n  }\r\n}\r\n\r\nexport class ColumnsBlock extends Block {\r\n  constructor(value, options) {\r\n    super(value, options);\r\n  }\r\n  toHTML() {\r\n    const html = this.value.map(col).join(\"\");\r\n    return row(html, css(this.options.styles));\r\n  }\r\n}\r\n\r\nexport class TextBlock extends Block {\r\n  constructor(value, options) {\r\n    super(value, options);\r\n  }\r\n  toHTML() {\r\n    return row(col(`<p>${this.value}</p>`), css(this.options.styles));\r\n  }\r\n}\r\n","import { block } from \"../utils\";\r\nimport { TextBlock, TitleBlock } from \"./block\";\r\n\r\nexport class Sidebar {\r\n  constructor(selector, updateCallback) {\r\n    this.$el = document.querySelector(selector);\r\n    this.update = updateCallback;\r\n\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.$el.insertAdjacentHTML(\"afterbegin\", this.template);\r\n    this.$el.addEventListener(\"submit\", this.add.bind(this));\r\n  }\r\n\r\n  get template() {\r\n    return [block(\"text\"), block(\"title\")].join(\"\");\r\n  }\r\n\r\n  add(event) {\r\n    event.preventDefault();\r\n\r\n    const type = event.target.name;\r\n    const value = event.target.value.value;\r\n    const styles = event.target.styles.value;\r\n\r\n    const newBlock = type === \"text\" ? new TextBlock(value, { styles }) : new TitleBlock(value, { styles });\r\n\r\n    this.update(newBlock);\r\n\r\n    event.target.value.value = \"\";\r\n    event.target.styles.value = \"\";\r\n  }\r\n}\r\n","import { Site } from \"./site\";\r\nimport { Sidebar } from \"./sidebar\";\r\n\r\nexport class App {\r\n  constructor(model) {\r\n    this.model = model;\r\n\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    const site = new Site(\"#site\");\r\n\r\n    site.render(this.model);\r\n\r\n    const updateCallback = (newBlock) => {\r\n      this.model.push(newBlock);\r\n      site.render(this.model);\r\n    };\r\n\r\n    new Sidebar(\"#panel\", updateCallback);\r\n  }\r\n}\r\n","import image from \"./assets/image.png\";\r\nimport { TextBlock, TitleBlock, ColumnsBlock, ImageBlock } from \"./classes/block.js\";\r\n\r\nconst text = `\r\n© <a href=\"https://t.me/herowamup\" target=\"_blank\">Herowarmup</a>\r\n`;\r\n\r\nexport const model = [\r\n  new TitleBlock(\"Конструктор сайтов на Vanilla JS\", {\r\n    tag: \"h2\",\r\n    styles: {\r\n      background: \"linear-gradient(to right, #ff0099, #493240)\",\r\n      color: \"#fff\",\r\n      padding: \"1.5rem\",\r\n      \"text-align\": \"center\",\r\n    },\r\n  }),\r\n\r\n  new ImageBlock(image, {\r\n    styles: {\r\n      padding: \"2rem 0\",\r\n      display: \"flex\",\r\n      \"justify-content\": \"center\",\r\n    },\r\n    imageStyles: {\r\n      width: \"500px\",\r\n      height: \"auto\",\r\n    },\r\n    alt: \"Это картинка\",\r\n  }),\r\n\r\n  new ColumnsBlock(\r\n    [\r\n      \"Приложение на чистом JavaScript, без использования библиотек\",\r\n      \"Учимся использовать принципы SOLID и ООП при разработке\",\r\n      \"JavaScript - это просто, интересно. Научись создавать любые UI своими руками\",\r\n    ],\r\n    {\r\n      styles: {\r\n        background: \"linear-gradient(to bottom, #8e2de2, #4a00e0)\",\r\n        padding: \"2rem\",\r\n        color: \"#fff\",\r\n        \"font-weight\": \"bold\",\r\n      },\r\n    }\r\n  ),\r\n  new TextBlock(text, {\r\n    styles: {\r\n      background: \"linear-gradient(to left, #f2994a, #f2c94c)\",\r\n      padding: \"1rem\",\r\n      \"font-weight\": \"bold\",\r\n    },\r\n  }),\r\n];\r\n","import { App } from \"./classes/app\";\r\nimport { model } from \"./model\";\r\nimport \"./styles/main.css\";\r\n\r\nnew App(model);\r\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)?\\/[^/]+(?:\\?.*)?$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}